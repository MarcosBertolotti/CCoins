<ng-container *ngIf="bar">
  <app-title [title]="bar.name" titleCenter="Detalle y actualización"></app-title>
  <app-navbar [sectionPath]="barPathBase" [id]="idBar"></app-navbar>
  
  <app-slide-toggle 
    [title]="bar.active ? 'Habilitado' : 'Deshabilitado'" 
    [value]="bar.active!" 
    (toggle)="toggleActive()">
  </app-slide-toggle>

  <div class="container">
    <form [formGroup]="formGroup">

      <h4 class="title-accent">Actualizar Bar</h4>

      <mat-label>Nombre {{ (name | fieldRequired) ? '*' : '' }}</mat-label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="name" placeholder="Nombre del bar">
        <mat-error>{{ 'name' | errorMessage : formGroup }}</mat-error>
      </mat-form-field>

      <mat-label>Dirección {{ (address | fieldRequired) ? '*' : '' }}</mat-label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="address" placeholder="Dirección del bar">
        <mat-error>{{ 'address' | errorMessage : formGroup }}</mat-error>
      </mat-form-field>

      <mat-label>Localidad {{ (city | fieldRequired) ? '*' : '' }}</mat-label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="city" placeholder="Localidad del bar">
        <mat-error>{{ 'city' | errorMessage : formGroup }}</mat-error>
      </mat-form-field>

      <mat-label>Link Menu {{ (menuLink | fieldRequired) ? '*' : '' }}</mat-label>
      <mat-form-field appearance="outline">
        <input matInput formControlName="menuLink" placeholder="Link del menu">
        <mat-error>{{ 'menuLink' | errorMessage : formGroup : 'mesas' }}</mat-error>
      </mat-form-field>

      <mat-label>Cantidad de Mesas {{ (tables | fieldRequired) ? '*' : '' }}</mat-label>
      <mat-form-field appearance="outline">
        <input matInput type="number" formControlName="tables" placeholder="Cantidad de mesas del bar, máximo 20">
        <mat-error>{{ 'tables' | errorMessage : formGroup : 'mesas' }}</mat-error>
      </mat-form-field>

      <p>Al hacer click en actualizar todos los campos serán sobreescritos</p>

      <button
        mat-raised-button
        color="primary"
        [disabled]="!formGroup.valid"
        (click)="submitForm()">
        Actualizar
      </button>
    </form>
  </div>
</ng-container>